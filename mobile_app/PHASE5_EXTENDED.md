# üöÄ Phase 5 - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–î–∞—Ç–∞**: 25 –¥–µ–∫–∞–±—Ä—è 2025 –≥.  
**–°—Ç–∞—Ç—É—Å**: üü† –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ - –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã

---

## üìã –ß–¢–û –ë–´–õ–û –î–û–ë–ê–í–õ–ï–ù–û

### 1. üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è–º–∏

#### –§–∞–π–ª: `services/auth_service.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –¢—Ä–∏ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: Guest, Student, Admin
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Permissions)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π —É–∑–ª–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ JSON

**–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞:**

```python
# –ì–û–°–¢ (Guest)
- VIEW_MAP                    # –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç—ã

# –°–¢–£–î–ï–ù–¢ (Student)  
- VIEW_MAP                    # –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç—ã
- VIEW_ANALYTICS              # –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π

# –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–† (Admin)
- VIEW_MAP                    # –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç—ã
- EDIT_MAP                    # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
- CLOSE_ROUTES                # –ó–∞–∫—Ä—ã—Ç–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- VIEW_ANALYTICS              # –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- MANAGE_USERS                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```

**–ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:**
```python
class VisitHistory:
    node_id: str              # ID –ø–æ—Å–µ—â—ë–Ω–Ω–æ–≥–æ —É–∑–ª–∞
    node_name: str            # –ù–∞–∑–≤–∞–Ω–∏–µ (–∞—É–¥–∏—Ç–æ—Ä–∏—è)
    floor: int                # –≠—Ç–∞–∂
    timestamp: datetime       # –ö–æ–≥–¥–∞ –ø–æ—Å–µ—Ç–∏–ª
    duration_seconds: int     # –ö–∞–∫ –¥–æ–ª–≥–æ –±—ã–ª —Ç–∞–º
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from services.auth_service import AuthenticationService

auth_service = AuthenticationService()

# –í—Ö–æ–¥ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç
student = auth_service.login_student(
    username="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    email="ivan@university.edu",
    student_id="123456"
)

# –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–µ—â–µ–Ω–∏–µ
student.add_visit(
    node_id="101",
    node_name="–ê—É–¥–∏—Ç–æ—Ä–∏—è 101",
    floor=1
)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
if auth_service.has_permission(UserPermission.EDIT_MAP):
    print("–≠—Ç–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä")
```

---

### 2. üìç QR –ö–æ–¥—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

#### –§–∞–π–ª: `services/qr_service.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ QR –∫–æ–¥–æ–≤ –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è–º
- ‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR –∫–æ–¥–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ QR –∫–æ–¥–∞–º–∏
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è QR –∫–æ–¥–∞ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

**–§–æ—Ä–º–∞—Ç QR –∫–æ–¥–∞:**
```
campuscompass://locate/node_id
–∏–ª–∏
CC-node_id-unique_id
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from services.qr_service import QRCodeService

qr_service = QRCodeService()

# –°–æ–∑–¥–∞—Ç—å QR –∫–æ–¥ –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ 101
qr_code = qr_service.create_qr_mapping(
    node_id="101",
    node_name="–ê—É–¥–∏—Ç–æ—Ä–∏—è 101",
    floor=1,
    created_by="admin_1",
    description="–í—Ö–æ–¥ –≤ –∞—É–¥–∏—Ç–æ—Ä–∏—é"
)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: "CC-101-a1b2c3d4"

# –ü–æ–ª—É—á–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ QR –∫–æ–¥—É
location = qr_service.get_location_by_qr("CC-101-a1b2c3d4")
print(f"–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ {location.node_name}")

# –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å QR –∫–æ–¥
qr_service.deactivate_qr_mapping("CC-101-a1b2c3d4")
```

---

### 3. üöß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ (—Ä–µ–º–æ–Ω—Ç—ã)

#### –§–∞–π–ª: `services/route_closure_service.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Ä—ë–±–µ—Ä) –∏ —É–∑–ª–æ–≤
- ‚úÖ –¢–∏–ø—ã –∑–∞–∫—Ä—ã—Ç–∏—è: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, —Ä–µ–º–æ–Ω—Ç, —É–±–æ—Ä–∫–∞, —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ü—Ä–∏—á–∏–Ω—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–∫—Ä—ã—Ç–∏–π

**–¢–∏–ø—ã –∑–∞–∫—Ä—ã—Ç–∏—è:**
```python
MAINTENANCE = "maintenance"     # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
REPAIR = "repair"               # –†–µ–º–æ–Ω—Ç
CLEANING = "cleaning"           # –£–±–æ—Ä–∫–∞
EMERGENCY = "emergency"         # –ß—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
OTHER = "other"                 # –î—Ä—É–≥–æ–µ
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from services.route_closure_service import RouteClosureService, ClosureType
from datetime import datetime, timedelta

closure_service = RouteClosureService()

# –ó–∞–∫—Ä—ã—Ç—å –º–∞—Ä—à—Ä—É—Ç –º–µ–∂–¥—É –¥–≤—É–º—è —É–∑–ª–∞–º–∏ –Ω–∞ —Å—É—Ç–∫–∏
closure_id = closure_service.close_route(
    from_id="101",
    to_id="102",
    closure_type=ClosureType.REPAIR,
    reason="–†–µ–º–æ–Ω—Ç –ø–æ—Ç–æ–ª–∫–∞",
    created_by="admin_1",
    scheduled_until=datetime.now() + timedelta(hours=24),
    description="–°–ø–µ—à–∫–∞, –∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ—Ä–∏–¥–æ—Ä–∞"
)

# –ó–∞–∫—Ä—ã—Ç—å —É–∑–µ–ª (–∞—É–¥–∏—Ç–æ—Ä–∏—é)
closure_id = closure_service.close_node(
    node_id="201",
    closure_type=ClosureType.CLEANING,
    reason="–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞",
    created_by="admin_1",
    scheduled_until=datetime.now() + timedelta(hours=4)
)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫—Ä—ã—Ç –ª–∏ –º–∞—Ä—à—Ä—É—Ç
if closure_service.is_route_closed("101", "102"):
    reason = closure_service.get_closure_reason("101", "102")
    print(f"–ú–∞—Ä—à—Ä—É—Ç –∑–∞–∫—Ä—ã—Ç: {reason}")

# –û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä—à—Ä—É—Ç
closure_service.open_route(closure_id)
```

---

### 4. üìä –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∏–∑ CSV –¥–∞–Ω–Ω—ã—Ö

#### –§–∞–π–ª: `services/graph_builder.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä—ë–±–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–ª–∏–∑–æ—Å—Ç–∏ —É–∑–ª–æ–≤
- ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–µ—Å—Ç–Ω–∏—Ü –∏ –ª–∏—Ñ—Ç–æ–≤ –º–µ–∂–¥—É —ç—Ç–∞–∂–∞–º–∏
- ‚úÖ –®—Ç—Ä–∞—Ñ –¥–ª—è —Å–º–µ–Ω—ã —ç—Ç–∞–∂–∞
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –î–µ–π–∫—Å—Ç—Ä—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è:**
```python
DISTANCE_THRESHOLD = 150        # –ú–∞–∫—Å. —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Å–≤—è–∑–∏
FLOOR_CHANGE_PENALTY = 2.0      # –®—Ç—Ä–∞—Ñ –∑–∞ —Å–º–µ–Ω—É —ç—Ç–∞–∂–∞
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from services.graph_builder import GraphBuilder

# –ò–∑ CSV –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π)
nodes = [
    {'Id': 15, 'Name': '–õ–µ—Å—Ç–Ω–∏—Ü–∞', 'Floor': 1, 'Type': 'Staircase', 'X': 1135, 'Y': 553},
    {'Id': 22, 'Name': '–°–ø–æ—Ä—Ç–∑–∞–ª', 'Floor': 1, 'Type': 'Room', 'X': 809, 'Y': 112},
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã
]

# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ä—ë–±—Ä–∞
edges = GraphBuilder.build_edges_from_nodes(nodes)

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫ —Å–º–µ–∂–Ω–æ—Å—Ç–∏
adjacency = GraphBuilder.edges_to_adjacency_list(edges)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'15': [('22', 120.5), ...], '22': [...]}
```

---

### 5. üîê –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞

#### –§–∞–π–ª: `screens/login_screen.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –¢—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (–∏–º—è, email, ID)
- ‚úÖ –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (–∏–º—è, email, ID, –ø–∞—Ä–æ–ª—å)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –∫–∞–∫ –≥–æ—Å—Ç

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```python
# –í main.py –¥–æ–±–∞–≤–ª–µ–Ω LoginScreen –ø–µ—Ä–µ–¥ HomeScreen
# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º login_screen
# –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ home_screen
```

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
Services Layer:
‚îú‚îÄ‚îÄ auth_service.py          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏
‚îú‚îÄ‚îÄ qr_service.py            # QR –∫–æ–¥—ã
‚îú‚îÄ‚îÄ route_closure_service.py # –ó–∞–∫—Ä—ã—Ç—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ graph_builder.py         # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
‚îú‚îÄ‚îÄ api_client.py            # (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îî‚îÄ‚îÄ cache_service.py         # (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)

Screens Layer:
‚îú‚îÄ‚îÄ login_screen.py          # –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ home_screen.py           # (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îî‚îÄ‚îÄ map_screen.py            # (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)

App:
‚îî‚îÄ‚îÄ main.py                  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ù–´–•

### –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (JSON)
```json
{
  "user_id": "student_123",
  "username": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "role": "student",
  "email": "ivan@university.edu",
  "visit_history": [
    {
      "node_id": "101",
      "node_name": "–ê—É–¥–∏—Ç–æ—Ä–∏—è 101",
      "floor": 1,
      "timestamp": "2025-12-25T10:30:00",
      "duration_seconds": 1800
    }
  ],
  "last_location": "101",
  "last_location_time": "2025-12-25T11:00:00",
  "created_at": "2025-12-01T09:00:00",
  "last_login": "2025-12-25T10:00:00"
}
```

### QR –∫–æ–¥ (JSON)
```json
{
  "CC-101-a1b2c3d4": {
    "qr_code": "CC-101-a1b2c3d4",
    "node_id": "101",
    "node_name": "–ê—É–¥–∏—Ç–æ—Ä–∏—è 101",
    "floor": 1,
    "created_at": "2025-12-25T09:00:00",
    "created_by": "admin_1",
    "description": "–í—Ö–æ–¥ –≤ –∞—É–¥–∏—Ç–æ—Ä–∏—é",
    "active": true
  }
}
```

### –ó–∞–∫—Ä—ã—Ç–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (JSON)
```json
{
  "closure_1a2b3c4d": {
    "closure_id": "closure_1a2b3c4d",
    "from_id": "101",
    "to_id": "102",
    "closure_type": "repair",
    "reason": "–†–µ–º–æ–Ω—Ç –ø–æ—Ç–æ–ª–∫–∞",
    "created_at": "2025-12-25T08:00:00",
    "created_by": "admin_1",
    "scheduled_until": "2025-12-26T08:00:00",
    "active": true,
    "description": "–°–ø–µ—à–∫–∞, –∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ—Ä–∏–¥–æ—Ä–∞"
  }
}
```

---

## ‚è≥ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –î–ê–õ–¨–®–ï

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è QR —Å–∫–∞–Ω–µ—Ä–∞ –≤ MapScreen**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR"
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Kivy garden camera` –∏–ª–∏ `pyzbar`
   - –ü—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π –≤ StudentScreen** (–Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω)
   - –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö —É–∑–ª–æ–≤
   - –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–∞–º
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –∫–∞–∫–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏)

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è–º–∏ –≤ AdminScreen** (–Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω)
   - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π
   - –§–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä—à—Ä—É—Ç"

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MapScreen –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**
   - –û—Ç–º–µ—á–∞—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∫—Ä–∞—Å–Ω–æ–π –ª–∏–Ω–∏–µ–π
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –ø—Ä–∏ –∫–ª–∏–∫–µ
   - –ù–µ –≤–∫–ª—é—á–∞—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ —Ä–∞—Å—á—ë—Ç –ø—É—Ç–∏

5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ requirements.txt**
   - –î–æ–±–∞–≤–∏—Ç—å `pyzbar` –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR –∫–æ–¥–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å `kivy-garden` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∫–∞–º–µ—Ä—ã

6. **–î–∞–Ω–Ω—ã–µ –∏–∑ CSV (cds.csv)**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
   - –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ —Å –ø–æ–º–æ—â—å—é `GraphBuilder`
   - –û–±–Ω–æ–≤–∏—Ç—å `api_client.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd mobile_app
python main.py
```

**–°—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **–í—Ö–æ–¥ –∫–∞–∫ –≥–æ—Å—Ç:**
   - –ù–∞–∂–∞—Ç—å "–í—Ö–æ–¥ –∫–∞–∫ –≥–æ—Å—Ç"
   - –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç—É

2. **–í—Ö–æ–¥ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç:**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°—Ç—É–¥–µ–Ω—Ç"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
   - –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è

3. **–í—Ö–æ–¥ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É (–ø–∞—Ä–æ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º)
   - –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã

---

## üì± –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° ANDROID

**–°–±–æ—Ä–∫–∞ APK:**
```bash
cd mobile_app
buildozer android debug
```

**–ù–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ buildozer.spec:**
```ini
android.permissions = CAMERA,READ_EXTERNAL_STORAGE,WRITE_EXTERNAL_STORAGE
```

---

## ‚úÖ –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –°–ü–ò–°–û–ö

- [x] –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∏
- [x] QR –∫–æ–¥ —Å–µ—Ä–≤–∏—Å
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- [x] –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∏–∑ CSV
- [x] –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞
- [ ] QR —Å–∫–∞–Ω–µ—Ä (—Ç—Ä–µ–±—É–µ—Ç –∫–∞–º–µ—Ä—ã)
- [ ] –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π
- [ ] –≠–∫—Ä–∞–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ cds.csv
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è —É—á—ë—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏–π

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –≠–¢–ê–ü–´

1. **–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ó–∞–≥—Ä—É–∑–∫–∞ CSV –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

2. **–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å:**
   - Phase 2: Core Library (Python –≤–µ—Ä—Å–∏—è –ª–æ–≥–∏–∫–∏)
   - Phase 3: Backend API (FastAPI —Å–µ—Ä–≤–µ—Ä)
